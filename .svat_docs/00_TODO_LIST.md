# 00_TODO_LIST.md

## Surgical Video Analysis Tool 2 - 開発タスクリスト

### フェーズ 1: 設計と計画 (完了)
- [x] `01_DESIGN_PHILOSOPHY.md` の作成
- [x] `02_ARCHITECTURE.md` の作成
- [x] `03_FILE_STRUCTURE.md` の作成
- [x] `00_TODO_LIST.md` の作成

### フェーズ 2: 環境構築 (完了)
- [x] Gitリポジトリの初期化 (`git init`)
- [x] `.gitignore` ファイルの作成
- [x] 仮想環境の構築 (`.venv`) とアクティベート
- [x] 依存ライブラリのインストール (`python-vlc`, `pandas`, `matplotlib`)
- [x] 設計ドキュメントの初回コミット

### フェーズ 3: 実装 (スケルトニング) (完了)
- [x] `03_FILE_STRUCTURE.md` に基づくディレクトリと空ファイルの作成
- [x] 各ファイルにクラスや関数の雛形（スケルトンコード）を記述
- [x] スケルトンコードのコミット

### フェーズ 4: 実装 (コア機能) (完了)
- [x] `SettingsModel` - 設定の読み込み/保存機能の実装
- [x] `PresetModel` - プリセットの読み込み/保存機能の実装
- [x] `MainWindow` - Tkinterウィンドウの基本レイアウト実装
- [x] `MainViewModel` - アプリケーション起動時の初期化処理
- [x] `main.py` と `src/app.py` で空のウィンドウが表示されることを確認
- [x] `VideoPlayerModel` - 動画の読み込みと表示機能の実装
- [x] 動画を開くダイアログの実装
- [x] 再生コントロール（再生/一時停止、シーク、速度変更、10秒スキップ）の実装
- [x] タイムラインと時間表示の更新機能の実装

### フェーズ 5: 実装 (分析機能) (完了)
- [x] プリセットリストの表示と選択機能の実装
- [x] `AnalysisDataModel` - 分析データ（タイムスタンプ）の管理機能
- [x] "Start", "End", "Undo" ボタンのロジック実装
- [x] ライブサマリー（記録数、合計時間）の表示更新機能
- [x] ショートカットキー（S, E, U, Space, 左右）の実装
- [x] `End`押下時の次項目への自動カーソル移動

### フェーズ 6: 実装 (プリセット管理機能) (完了)
- [x] プリセットの追加/削除/名前変更/切り替え機能の実装
- [x] スタンプの追加/削除/並び替え機能の実装

### フェーズ 7: 実装 (ファイル出力機能) (完了)
- [x] 分析結果をCSVファイルとして保存する機能の実装 (合計行含む)
- [x] グラフを生成してPNGファイルとして保存する機能の実装
- [x] メモ機能とオプション（メモ/グラフ有効化）の実装

### フェーズ 8: 実装 (複数動画対応) (完了)
- [x] `VideoPlayerModel` を複数の動画ファイルを扱えるように拡張
- [x] 複数動画選択ダイアログとシームレスな再生移行処理を実装
- [x] プレイリスト全体の時間管理とシーク機能の実装

### フェーズ 9: 最終調整とバグ修正
- [ ] **バグ修正:** `Space`キー/ボタン押下後にUI更新が停止する問題を解決する
- [ ] プリセット変更時の未保存警告機能と変更マーカー(`*`)を実装する
- [ ] 「Finish & Next Video」機能を実装する
- [ ] コード全体のクリーンアップ（デバッグ用`print`文の整理など）
- [ ] `requirements.txt` の生成
- [ ] (オプション) PyInstallerによる実行可能ファイル（.exe）化の検討